//default grids with flexbox
.grid {
    display: flex;
    flex-direction: column;
    &--showcase {
        flex-direction: column-reverse;
        >*:nth-child(2n) {
            margin-bottom: unit(@gap/@base,rem);
            margin-bottom: var(--gap);
        }
    }
}

@media screen and (min-width: (@break-min-rem)) {
    .grid {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;

        &--space-tall {
            margin-bottom: unit(@gap * 2 / @base, rem);
        }
        &--space-grande {
            margin-bottom: unit(@gap * 4 / @base, rem);
        }

        >* { margin-bottom: 0; }

        &--prose {
            >*:nth-child(2n-1) {
                flex-basis: 50%;
            }
            >*:nth-child(2n) {
                flex-basis: 30%;
            }
        }
        &--halves,
        &--split-halves,
        &--showcase {
            >* {
                flex-basis: 45%;
                margin-bottom: 0;
            }
        }   

    }
}

//enhanced grids with css grid
@supports (display:grid) {
    
    @media screen and (min-width: (@break-min-rem)) {
    
        .grid {
            display: grid;
            grid-gap: unit(@gap * 2 / @base,rem);
            grid-gap: ~"calc( var(--gap) * 2)";
            grid-template-columns: repeat(8, 1fr);
            grid-auto-flow: row;

            >* {
                grid-column: 1 / span 8;
            }

            &--space-tall {
                margin-bottom: 0;
                grid-row-gap: unit(@gap * 2 / @base, rem);
                grid-row-gap: ~"calc( var(--gap) * 2)";
            }
            &--space-grande {
                margin-bottom: 0;
                grid-row-gap: unit(@gap * 4 / @base, rem);
                grid-row-gap: ~"calc( var(--gap) * 4)";
            }

            &--align-bottom {
                align-self: end;
            }
        }
    

        .grid--halves,
        .grid--split-halves {
            >*:nth-child(2n-1) {
                grid-column: 1 / span 4;
            }
            >*:nth-child(2n) {
                grid-column: span 4;
            }
        }

        .grid--prose {
            >*:nth-child(2n-1) {
                grid-column: 1 / span 5;
            }
            >*:nth-child(2n) {
                grid-column: 6 / span 3;
            }
        }

        .grid--showcase {
            >*:nth-child(2n-1) {
                grid-row: 2;
            }
        }

        
    }
    @media screen and (min-width: (@break-mid-rem)) {

 
  
        .grid--title {
            >* {
                grid-column: 1 / span 6;
            }
        }

        
        .grid--prose {
            >*:nth-child(2n-1) {
                grid-column: 1 / span 5;
            }
            >*:nth-child(2n) {
                grid-column: 7 / span 2;
            }
        }

        .grid--showcase {
            >*:nth-child(2n-1) {
                grid-column: 1 / span 3;
                grid-row: 1;
            }
            >*:nth-child(2n) {
                grid-column: span 5;
            }
        }

    }

    @media screen and (min-width: (@break-max-rem)) {

        .grid {
            >* {
                grid-column: 2 / span 7;
            }
        }

        .grid--title {
            >* {
                grid-column: 2 / span 6;
            }
        }
        
        .grid--prose {
            >*:nth-child(2n-1) {
                grid-column: 2 / span 4;
            }
            >*:nth-child(2n) {
                grid-column: 7 / span 2;
            }
        }
        .grid--split-halves,
        .grid--halves {
            >*:nth-child(2n-1) {
                grid-column: 2 / span 3;
            }
            >:nth-child(2n) {
                grid-column: 5 / span 3;
            }
        }

        .grid--showcase {
            >*:nth-child(2n-1) {
                grid-column: 2 / span 3;
            }
            >*:nth-child(2n) {
                grid-column: span 4;
            }
        }

    }

}


//special homepage case
